<?php
class Shoe_Maker_Test_Model_CategoryPositionUpdate extends EcomDev_PHPUnit_Test_Case{
    public $model = null;

    public function __construct(){
        $this->model = new Shoe_Maker_Model_CategoryPositionUpdate();
    }

    public function testGetXmlElementFromString(){
        $contents = <<<HTML
<?xml version="1.0" encoding="UTF-8"?>
<root updateType="2">
   <Categories>
      <Category>
         <Id>75</Id>
         <ProductCodes>589109-010,634926-010,634926-063,552940-060,534807-010,634925-010,612945-010,589345-011,612945-320,f80690,589345-012,588810-064,589345-100,612856-695,586399-302,586395-010,545548-021,545548-010,f80689,375833-091,545769-063,586395-012,424837-010,274518-678,280544-212,280544-010,9fcults-blk,9fgreens-mbk,9fwatson2-bll,9fkls2-bll,9fcaps-tor,9fcaps-mbk,330526-100,tddk013blk,tddb011blk,tdab011orgcam,tdab011blksil,tddk013aqu,tdab011aqured,tddb011cam,tddb011org,tddk013cam,tdmm012olv,tdmm012blk,tdmm012cam,612842-695,612844-060,tdrp013kelnav,tdmbg13olv,tdmbg13blk,634925-063,613023-063,f80894,d80153,613020-100,613020-063,f80722,602835-064,623999-480,623999-010,623999-100,613028-695,622093-695,622093-010,602835-010,586399-507,545782-021,534759-064,547621-012,532344-406,519614-011,519614-010,545355-071,547696-032,547696-063,547662-063,g86569,452382-521,434506-063,545483-068,g74957,659255-100,622081-010,613021-010,621610-063,621610-010,589042-100,612850-065,589042-066,689097-010,647542-010,586395-013,f80892,f80982,613021-695,613024-695,649346-100,545769-010,613024-010,613025-063,613025-010,613024-392,622081-063,552940-010,649346-010,586395-507,586395-060,548497-026,548497-060,419377-010,419377-060,548499-010,419380-063,440679-063,586399-010,586399-347,513405-411,545483-023,545483-110,g76087,596225-507,596225-347,545483-347,f80756,f80752,g74963,545483-073,z37560,545477-407,545477-016,540218-334,534760-064,523272-440,523272-010,534757-560,466420-451,465678-010,465085-065,465084-010,404386-655,404386-025,323720-015,534760-010,427342-065,534822-317,467131-487,465084-065,534820-434,534822-010,589345-410,465678-100,404386-474,323720-014,427342-010,466420-011,465085-010,404386-703,545477-400,g92667,g92670,f82451,404386-010,576814-010,546470-695,546470-010,ba4749-067,ba4724-651,ba4724-001,ba4715-089,cl60327,545477-406,589414-010,588810-657,588810-010,545355-013,588810-060,589414-078,589416-010,589346-010,589346-100,589162-060,589162-078,545355-063,607517-416,607517-011,513405-680,g86414,576554-846,g74981,413346-710,g92779,547282-063,576988-680,575474-846,575458-010,576634-010,579450-406,589069-063,575474-312,g75008,575458-523,g92625,g86416,589412-010,589412-695,589415-010,555831-010,589415-013,f81879,f81878,f80472,579450-014,575442-461,585621-461,575448-071,576794-474,412009-010,575460-617,645063-010,645063-100,520400-657,585621-394,602835-100,589096-010,589096-063,589016-695,589016-011,589016-010,576583-695,576583-485,576583-021,f96163,f96164,f80475,f80474,f96165,602833-010,589095-100,645063-426,645063-331,576794-063,576794-104,589942-828,f81882,624387-010,g87424,545894-479,545894-032,559624-010,559624-063,578292-617,578292-010,578292-063,545483-424,611717-424,611717-063,534790-104,534790-012,589046-010,589046-013,589046-014,404399-312,458779-401,427327-261,585185-010,458779-065,576803-010,458779-648,585185-063,458779-315,598701-063,604856-010,576803-474,577705-063,576803-385,547693-474,547693-695,547693-414,547693-064,g76010,547693-101,576803-063,547693-102,547693-033,547693-473,577528-657,577528-032,547693-100,589415-011,547693-010,547693-065,576634-456,10014-00311,10004-00312,10004-00311,10005-00311,10005-00313,10001-00317,10026-00313,10026-00311,10026-00333,576791-010,576791-100,589097-426,616533-331,ga-100sd-8acr,dw-6900sd-8cr,gd-x6900-1cr,ga-1000-4acr,ga-100mc-1a4cr,ga-100mc-1acr,ga-100mc-2acr,bg-6902-2bcr,10011-00314,10011-00313,10005-00333,10007-00292,10007-00293,10011-00333,10007-00310,10001-00311,10011-00310,10005-00317,576988-456,576789-063,576797-010,576797-011,575448-657,576670-063,575442-100,575442-310,520400-892,576543-018,576615-474,544119-010,576634-021,522684-220,522684-657,522684-064,546360-060,576797-063,0035,0011,m313akni-org,m313acli-blu,m320d13bar-yel,m320a13pat-kni,m320d13sta-kni,m320d13sha-mag,m320d13dom-haw,m320a13jam-lak,m320a13hak-roc,m320a13ken-roc,m320a13rod-bul,m320a13lar-cel,sx3693-071,sx3693-300,sx3693-400,sx4696-444,576586-760,546490-014,546490-027,546490-065,576586-474,m325d13cro-grh,m200d13pal-olv,m200d13mur-mab,m200d13mar-wht,m320d13eur-grn,m311d13fou-blk,m200d13dri-blu,m320bdea-grn,m320d13bla-blk,m320d13bas-cam,tks012si,tks012bl,577438-063,579982-032,579982-490,633048-463,gb-x6900b-1cr,tr1001,tr1004,ba-111-4acr,ga-100c-8acr,ga-100c-1a4cr,576586-401,a5p0jk3,a0c3jk3,a91m044,a91mjk3,604979-474,609973-010,609969-010,547683-012,g76067,g86641,g86653,06886901,06984802,06886701,06985201,06931701,577528-091,547638-695,618197-063,547638-063,609975-100,609981-547,609981-100,609981-009,a8xcjk3,a7vba0m,a8xzjk3,a7zgb5k,a7zgjk3,a7vbjk3,a7eka7l,a7ekjk3,a6ydjk3,a8xc8z6,a8xz62x,713301-678,813201-100,713301-010,813201-010,713202-100,713202-010,713201-100,713201-010,713401-100,713401-060,713601-012,713601-010,713101-678,713101-063,813302-067,813302-010,813301-657,813301-071,813502-657,813502-010,813501-067,813501-010,813101-060,813101-010,813204-657,813204-100,813204-010,813203-657,813203-460,813203-071,813202-657,813202-010,1364,1630,530977-387,576586-025,598709-063,586182-063,586182-309,598707-063,598707-071,577228-442,598762-010,577228-010,598762-063,576797-695,576797-645,609973-460,576666-011,576586-010,10014-00216,10007-00217,10005-00217,10026-00221,10026-00160,10007-00216,10007-00218,10007-00220,10014-00220,cl55467,06921001,06921201,06886601,06984902,06886802,06835501,ba3348-667,547655-677,547676-011,546490-026,cl55447,ga-110ac-4acr,gac-100ac-2acr,glx-150b-3cr,bga-151-1bcr,bg-6901-7cr,bga-170-7b2cr,bga-170-2bcr,bga-170-9bcr,g74929,530977-655,10032-00144,10012-00017,tdp012kn,tdp012ko,tdp012dc,tdp012si,tdp012bl,546139-065,606295-025,m311c13lig-yel,m311c13spe-blu,m311c13spe-grn,m311c13spe-yel,m311c13spe-red,m311c13spe-gry,m311c13nyj-wht,546141-065,546141-657,10001-00143,10005-00183,so1001,se1002,vs1003,vs1001,vs1002,vs1006,sp1017,sp1016,sp1008,sp1001,sp1005,sp1013,sp1018,sx3693-848,sx4696-308,sx4736-662,sx4736-347,10049-00034,dw-6930c-1cr,sx3693-333,sx4586-078,sx4586-031,snt-gry,sx4586-431,sx4586-457,sx3693-650,sx3693-381,sx3693-457,sx3694-333,sx3694-031,sx3694-053,sx3694-384,sx3694-337,sx4754-414,559449-400,559447-400,559449-010,484794-012,533487-376,534249-452,559447-040,534279-133,586389-100,532762-063,559449-379,532758-063,534799-010,z33098,z57635,x41186,otm1300898,z35378,507247-063,519610-100,519611-011,404311-011,otm1301301,578547-476,otm1301172,otm130120190,522174-071,508153-695,483333-451,483288-635,483134-063,577469-010,508065-695,511061-010,508520-750,503077-341,465651-846,465641-100,465126-100,349352-545,387657-100,327358-100,267328-648,418494-065,419671-648,466513-010,426979-100,466511-010,396290-545,431999-011,437320-010,437345-010,452499-010,451033-010,451041-010,426738-010,426770-678,426951-068,426976-065,427349-063,383497-648,466505-010,396296-010,451627-100,437305-677,437220-510,437219-063,534249-010,559449-657,532758-458,559447-100,534799-100,otm1300890,x41207,w63350,z35380,573924-010,519611-010,522174-100,otm1301198,otm1301323,otm130127290,508153-063,483333-010,436424-455,466505-011,418494-010,395426-010,426770-032,426738-063,452255-494,451033-100,427321-010,559447-010,otm1301390,426951-011,x46179,z32729,z35381,x41201,sx3693-431,sx4513-066,sx4747-137,sx4747-331,530977-475,530977-018,517374-040,530977-829,534751-010,530977-360,530977-077,530977-317,534751-100,517374-012,gac-100-8acr,ga-200sh-8acr,sx4747-357,sx4747-466,sx4684-444,sx4684-016,sx4696-062,sx4686-101,sx4754-229,sx4684-139,530977-012,530977-075,dw-6900mf-4cr,prs112,mt6033s-0246,sneblk,60400red,pr120,mt6033s-0146,cl57902,snebob,clockttoc,60400purp,dw-6900mf-1cr,am122cb,snecgr,sx3692-355,dw-6900mf-2cr,am121ls,mt2034s-0153,snescr,clockttci,530977-010,mt2034s-0353,mt2034s-0253,clockttpo,cl55415,pr101,sx3692-337,ga-150a-4acr,sx3693-053,530977-474,clockto,pr108,sx3693-337,530977-100,ga-150-7acr,pr114,clockmu,g-8900a-1cr,clockcip,sx4696-166,pr115,snhd-wht,clockvi,519602-740,m313abul-blk,sx3693-601,clockli,ga-110-1acr,clockpo,517374-101,m313acel-grn,sx4668-033,do103ss,g-9000bp-1cr,m313alak-yel,mt6032s-0159,cl55403,do102ss,gdf-100-1bcr,441342-740,mt6032s-0259,do101ss,m802amia-red,co101cf,10026-00025,m802abos-grn,co102cf,sx4584-106,co103cf,mt6025s-0256,m6207jas-red,gd-100hc-1cr,bgd-140-7acr,am113ss,am112ss,am104ss,sx3692-160,am115pl,sx3693-143,441342-021,ch112rb,sx3693-003,441342-355,ch110rb,mt6024s-0361,sx3692-102,ch111rb,dw-6900fs-8cu,441342-454,ch104ls,441342-015,sx3693-355,dw-6900mr-7cr,ch104rb,441342-455,sx3693-810,441342-695,sx3693-462,gw-6900b-1cu,glx-6900-7cu,sx3693-112,sx3693-142,dw-6900ms-1cu,sx3693-089,sx3693-412,glx-5600-4cu,437373-482,glx-5600-7cu,sx3693-188,km3007-010,sx3693-137,234846-117,km3007-491,sx3693-160,sx3692-112,234843-104,wm5096-010,wm5096-060,sx4513-166,10049-00038,274557-105,sx3693-002,sx4584-601,sx4584-441,sx3693-102,274557-100,sx3693-126,234843-101,sx3692-441,234842-100,sx3692-601,sx4381-101,sx3694-601,sx3694-642,sx4513-611,sx3693-489,m2009wut-blk,sx3693-073,sx3693-345,sx3693-421,sx3693-004,m313ahea-wht,m3258liv-gry,sx4668-131,sntkis-grn,ga-100-1a1cu,m3208fla-blk,m3105bur-blu,576794-010,m3204jas-wht,m802alos-pur,m802achi-blk,m3101liz-grn,h-123-28-01,441342-710,h-123-29-03,cl60029,z33091,ga-100b-4acr,ga-110c-1acu,cl55404,tld011ke,a8xc62x,547676-021,10014-00156,534800-100,x41279,502643-334,371642-010,451053-060,395356-010,412009-063,414063-010,813401-067,813401-010,p1403047blk,p1403047red,p1403047wht,p1405022blk,p1406010blk,p1406010nvy,p1403045grn,p1403045red,p1402021nvy,p1402021blk,p1402021wht,p14010099mrn,p14010099blk,p1401049red,p1401049grn,p1401046tan,p1401046blk,p1401024blk,p1401022olv,p1401022blk,p1401022nvy,p1407068nvy,p1407068blk,p1401021nvy,p1401021blk,p1406011mrn,p1406011blk,546490-023,sx4586-002,sx4586-441,clockttto,m3204soc-brn,cl55339,mt2027s-0156,m3301dpp-wht,606295-100,60400blk,419380-011</ProductCodes>
      </Category>
      <Category>
         <Id>121</Id>
         <ProductCodes>634926-010,613023-063,f80894,634926-063,d80153,613020-100,613020-063,602835-064,613028-695,602835-010,659255-100,622081-010,613021-010,f80892,f80982,613021-695,613024-695,649346-100,613024-010,613025-063,613025-010,613024-392,622081-063,649346-010,g86414,576554-846,413346-710,g92779,576988-680,575474-846,575458-010,589069-063,575474-312,g75008,575458-523,g92625,g86416,575442-461,585621-461,575448-071,576794-474,412009-010,575460-617,645063-010,645063-100,520400-657,585621-394,602835-100,589096-010,589096-063,f96163,f96164,f80475,f80474,f96165,602833-010,589095-100,645063-426,645063-331,576794-063,576794-104,589942-828,f81882,577705-063,576791-010,576791-100,589097-426,616533-331,576988-456,576789-063,576797-010,576797-011,575448-657,576670-063,575442-100,575442-310,520400-892,576797-063,633048-463,604979-474,609973-010,609969-010,609975-100,609981-547,609981-100,609981-009,813204-657,813201-100,813204-100,813201-010,813204-010,813203-657,813203-460,813203-071,813202-657,813202-010,576797-695,576797-645,609973-460,576666-011,547655-677,g74929,546139-065,606295-025,546141-065,546141-657,559449-400,559447-400,snt-gry,559449-010,484794-012,533487-376,534249-452,559447-040,534279-133,586389-100,532762-063,559449-379,532758-063,534799-010,z33098,z57635,otm1301301,578547-476,otm1301172,otm130120190,522174-071,577469-010,508065-695,511061-010,508520-750,503077-341,465651-846,465641-100,465126-100,349352-545,387657-100,327358-100,267328-648,419671-648,466513-010,426979-100,466511-010,466505-010,534249-010,559449-657,532758-458,559447-100,534799-100,522174-100,otm1301198,otm1301323,otm130127290,466505-011,559447-010,otm1301390,576794-010,534800-100,x41279,371642-010,451053-060,395356-010,412009-063,414063-010,p1403047blk,p1403047red,p1403047wht,606295-100</ProductCodes>
      </Category>
      <Category>
         <Id>123</Id>
         <ProductCodes>589109-010,634926-010,534807-010,634926-063,634925-010,612945-010,589345-011,612945-320,f80690,589345-012,588810-064,589345-100,612856-695,f80689,634925-063,613023-063,f80894,d80153,613020-100,613020-063,f80722,602835-064,623999-480,623999-010,623999-100,613028-695,622093-695,622093-010,602835-010,534759-064,547621-012,532344-406,519614-011,519614-010,545355-071,547696-032,547696-063,547662-063,g86569,659255-100,622081-010,613021-010,621610-063,621610-010,f80892,f80982,613021-695,613024-695,649346-100,613024-010,613025-063,613025-010,613024-392,622081-063,649346-010,545477-407,545477-016,540218-334,534760-064,523272-440,523272-010,534757-560,466420-451,465678-010,465085-065,465084-010,404386-655,404386-025,323720-015,534760-010,427342-065,534822-317,467131-487,465084-065,534820-434,534822-010,589345-410,465678-100,404386-474,323720-014,427342-010,466420-011,465085-010,404386-703,545477-400,404386-010,576814-010,545477-406,589414-010,588810-657,588810-010,545355-013,588810-060,589414-078,589416-010,589346-010,589346-100,589162-060,589162-078,545355-063,g86414,576554-846,g74981,413346-710,g92779,547282-063,576988-680,575474-846,575458-010,576634-010,579450-406,589069-063,575474-312,g75008,575458-523,g92625,g86416,589412-010,589412-695,589415-010,555831-010,589415-013,f81879,f81878,f80472,579450-014,575442-461,585621-461,575448-071,576794-474,412009-010,575460-617,645063-010,645063-100,520400-657,585621-394,602835-100,589096-010,589096-063,f96163,f96164,f80475,f80474,f96165,602833-010,589095-100,645063-426,645063-331,576794-063,576794-104,589942-828,f81882,534790-104,534790-012,404399-312,458779-401,427327-261,585185-010,458779-065,576803-010,458779-648,585185-063,458779-315,598701-063,604856-010,576803-474,577705-063,576803-385,547693-474,547693-695,547693-414,547693-064,g76010,547693-101,576803-063,547693-102,547693-033,547693-473,577528-657,577528-032,547693-100,589415-011,547693-010,547693-065,576634-456,576791-010,576791-100,589097-426,616533-331,576988-456,576789-063,576797-010,576797-011,575448-657,576670-063,575442-100,575442-310,520400-892,576543-018,576615-474,544119-010,576634-021,522684-220,522684-657,522684-064,546360-060,576797-063,577438-063,579982-032,579982-490,633048-463,604979-474,609973-010,609969-010,547683-012,g76067,g86641,577528-091,547638-695,618197-063,547638-063,609975-100,609981-547,609981-100,609981-009,a8xcjk3,a7vba0m,a8xzjk3,a7zgb5k,a7zgjk3,a7vbjk3,a7eka7l,a7ekjk3,a6ydjk3,a8xc8z6,a8xz62x,813201-100,813201-010,813302-067,813302-010,813301-657,813301-071,813502-657,813502-010,813501-067,813501-010,813101-060,813101-010,813204-657,813204-100,813204-010,813203-657,813203-460,813203-071,813202-657,813202-010,598709-063,586182-063,586182-309,598707-063,598707-071,577228-442,598762-010,577228-010,598762-063,576797-695,576797-645,609973-460,576666-011,547655-677,547676-011,g74929,546139-065,606295-025,546141-065,546141-657,559449-400,559447-400,snt-gry,559449-010,484794-012,533487-376,534249-452,559447-040,534279-133,586389-100,532762-063,559449-379,532758-063,534799-010,z33098,z57635,x41186,otm1300898,z35378,507247-063,519610-100,519611-011,404311-011,otm1301301,578547-476,otm1301172,otm130120190,522174-071,508153-695,483333-451,483288-635,483134-063,577469-010,508065-695,511061-010,508520-750,503077-341,465651-846,465641-100,465126-100,349352-545,387657-100,327358-100,267328-648,418494-065,419671-648,466513-010,426979-100,466511-010,396290-545,431999-011,437320-010,437345-010,452499-010,451033-010,451041-010,426738-010,426770-678,426951-068,426976-065,427349-063,383497-648,466505-010,396296-010,451627-100,437305-677,437220-510,437219-063,534249-010,559449-657,532758-458,559447-100,534799-100,otm1300890,x41207,w63350,z35380,573924-010,519611-010,522174-100,otm1301198,otm1301323,otm130127290,508153-063,483333-010,436424-455,466505-011,418494-010,395426-010,426770-032,426738-063,452255-494,451033-100,427321-010,559447-010,otm1301390,426951-011,x46179,z32729,z35381,x41201,km3007-010,km3007-491,wm5096-010,wm5096-060,576794-010,z33091,a8xc62x,547676-021,534800-100,x41279,502643-334,371642-010,451053-060,395356-010,412009-063,414063-010,813401-067,813401-010,p1403047blk,p1403047red,p1403047wht,p1405022blk,p1406010blk,p1406010nvy,p1403045grn,p1403045red,p1402021nvy,p1402021blk,p1402021wht,p14010099mrn,p14010099blk,p1401049red,p1401049grn,p1401046tan,p1401046blk,p1401024blk,p1401022olv,p1401022blk,p1401022nvy,p1401021nvy,p1401021blk,p1406011mrn,p1406011blk,606295-100</ProductCodes>
      </Category>
      <Category>
         <Id>539</Id>
         <ProductCodes>589109-010,534807-010,634925-010,612945-010,589345-011,612945-320,634926-010,f80690,634926-063,589345-012,588810-064,589345-100,612856-695,f80689,599662-030,555270-210,620465-100,631053-100,630913-002,642402-700,488298-142,488298-049,631310-025,644938-153,620465-006,642330-001,620465-011,631053-401,631053-001,631053-601,342964-153,528895-153,cr2114bcham,d65161,v55062,m41882,m990ba3,ml574sjr,524977-017,631310-135,644104-600,644793-600,429628-602,579959-606,316383-004,554969-002,634925-063,613023-063,f80894,d80153,613020-100,613020-063,f80722,602835-064,623999-480,623999-010,623999-100,599662-050,555380-060,536404-002,613028-695,622093-695,v52239,v52325,v45384,641333-001,622093-010,602835-010,d65454,d65444,g99908,g99909,606295-100,534759-064,547621-012,532344-406,519614-011,519614-010,545355-071,547696-032,547696-063,547662-063,mt580by,ml565bb,vn-0njv2ka,g86569,cm1600go,642402-006,ml574sjg,m991gb,ml501ggw,m996bs,cm496gr,g99795,m1300gb,m991bb,us574cy,m998bt,659255-100,622081-010,613021-010,m997nv,d65446,m20326,m20325,g98215,d65447,g98099,d65536,g99761,g98033,d74359,d74361,g98034,m20324,g98080,g99948,d73944,d73945,g98081,d74358,g99789,d65684,g98038,d74360,g98086,d65874,g98052,g99957,589042-100,612850-065,589042-066,647542-010,621610-063,621610-010,f80892,f80982,613021-695,613024-695,649346-100,613024-010,613025-063,613025-010,613024-392,622081-063,649346-010,d74391,d74393,g98087,d74406,m40341,35746602,ml565bc,35746601,ml501bbl,ml565cc,ml574alo,35575921,637995-100,h30pk5011,d67656,v60498,v61562,v61566,599662-031,642290-012,615957-410,333824-019,142259f,615957-314,616490-400,615957-610,630856-002,616490-060,511881-021,599698-316,580418-316,511881-400,636220-001,659509-004,641868-033,638074-102,630754-023,333824-030,616190-033,642307-100,616190-001,644395-700,631722-100,644673-100,621077-003,644919-400,631767-001,630913-402,630913-502,312543-006,643300-100,631767-102,644846-025,629877-303,669985-001,631767-600,636220-600,630856-060,642855-757,m3301dpp-wht,642849-100,528895-033,644935-023,631757-200,631757-001,631757-002,629877-601,m20654,d66469,d65213,646701-300,629151-306,599424-303,553558-001,629150-002,554724-012,35613403,553558-022,616750-001,35633105,d65985,d65207,v59903,g99364,v59397,35633107,d74104,g99849,35263493,644846-005,428902-100,316383-400,d65284,631047-013,644935-303,630754-011,440897-010,318408-130,354912-500,545477-016,540218-334,465678-010,404386-655,644938-107,644938-002,631722-102,621225-001,616190-101,534760-010,534822-317,467131-487,631731-401,640744-101,640744-002,599569-001,404386-474,644395-001,631722-101,644395-600,537383-611,630957-600,579915-400,554724-016,616514-005,443575-109,631731-601</ProductCodes>
      </Category>
      <Category>
         <Id>1656</Id>
         <ProductCodes>634926-010,613023-063,634926-063,613020-100,613020-063,602835-064,613028-695,602835-010,622081-010,613021-010,613021-695,613024-695,649346-100,613024-010,613025-063,613025-010,613024-392,622081-063,649346-010,576988-680,576794-474,645063-010,645063-100,602835-100,589096-010,589096-063,602833-010,589095-100,645063-426,645063-331,576794-063,576794-104,589942-828,576791-010,576791-100,589097-426,616533-331,576988-456,576789-063,576797-010,576797-011,576670-063,576797-063,604979-474,576797-695,576797-645,576666-011,547655-677,606295-025,534799-010,508065-695,465126-100,327358-100,267328-648,466513-010,466511-010,466505-010,534799-100,466505-011,576794-010,534800-100,414063-010,606295-100</ProductCodes>
      </Category>
   </Categories>
</root>
HTML;
        list($rootXmlElement,$entityTypes) = Shoe_Maker_Model_CategoryUpdate :: getXmlElementFromString($contents);
        $this->assertNotNull($rootXmlElement);
        $this->assertNotNull($entityTypes);
        return $contents;
    }

    /**
     * @depends testGetXmlElementFromString
     */
    public function testGetCategories($contents){
        $this->model->contents = $contents;
        $this->model->getCategories();
        $this->assertNotNull($this->model->categories);
        return $this->model;
    }
    /**
     * @depends testGetCategories
     */
    public function testCheckCategories($model){
        $this->model = $model;
        $categories = $this->model->categories;
        $arr = array();
        foreach ($categories as $categoryArray) {
            //get a new category object
            $category = Mage::getModel('catalog/category')->load($categoryArray['category_id']);
            $arr[] = $category->getId();
        }
        $this->assertTrue(in_array("75",$arr));
        $this->assertTrue(in_array("121",$arr));
        $this->assertTrue(in_array("123",$arr));
        $this->assertTrue(in_array("539",$arr));
        $this->assertTrue(in_array("1656",$arr));
        return $this->model;
    }
    /**
     * @depends testCheckCategories
     */
    public function testUpdatePosition($model){
        $this->model = $model;
        $this->model->updatePosition();
    }

}
