wpSliderXandra=Class.create({NO_HOVER:-1,TRANS_MODE_STRIP:1,TRANS_MODE_FADE:2,TRANS_MODE_MOVE:3,mode:null,MOVE_DESC_MODE:1,FADE_DESC_MODE:2,descMode:null,first_random:false,slides:0,current:0,width:null,height:null,transTime:null,descShowTime:null,thumbWidth:null,timeSwitch:null,timeCounter:0,timeUpdate:20,canSwitch:true,thumbHoverIndex:null,allowAutoPlay:null,autoPlayTimerHandle:null,autoPlayPause:false,id:null,defHeadBGColor:"#ECECEC",defHeadTextColor:"#FFFFFF",descOffset:120,thumbBorderColorOn:"#FFFFFF",thumbBorderColorOff:"#000000",id:null,initialize:function(a){this.mode=a.mode;this.descMode=a.descMode;this.width=a.width;this.height=a.height;this.transTime=a.transTime;this.descShowTime=a.descShowTime;this.thumbWidth=a.thumbWidth;this.timeSwitch=a.timeSwitch;this.thumbHoverIndex=this.NO_HOVER;this.allowAutoPlay=a.allowAutoPlay;this.first_random=a.firstRandom},setup:function(f){var d=jqAdvSlider.noConflict();var a=this;this.id=f;if(0==d(this.id).length){return}var e=d(this.id)[0];this.slides=d(this.id).find(".slide",e).length;if(0==this.slides){return}var b=0;if(this.first_random){b=Math.floor(Math.random()*(this.slides));this.current=b;d(this.id).find(".slide:eq("+b+")",e).css("top",0)}else{d(this.id).find(".slide:first",e).css("top",0)}d(this.id).find(".next",e).click(function(){return a.next(a)});d(this.id).find(".prev",e).click(function(){return a.prev(a)});d(this.id).find(".play",e).click(function(){return a.play(a)});d(this.id).find(".pause",e).click(function(){return a.pause(a)});d(this.id).find(".thumb",e).css("border","1px solid "+this.thumbBorderColorOff);if(this.first_random){d(this.id).find(".thumb:eq("+b+")",e).css("border","1px solid "+this.thumbBorderColorOn).find(".color").css("display","block");d(this.id).find(".thumb:eq("+b+")",e).find(".black").css("display","none")}else{d(this.id).find(".thumb:first",e).css("border","1px solid "+this.thumbBorderColorOn).find(".color").css("display","block");d(this.id).find(".thumb:first",e).find(".black").css("display","none")}d(this.id).find(".thumb",e).hover(function(){var c=this;return a.hoverThumbIn(a,c)},function(){var c=this;return a.hoverThumbOut(a,c)});d(this.id).find(".thumb",e).click(function(){var c=this;return a.thumbClick(a,c)});this.showDesc(this.current);if(!this.allowAutoPlay){d(this.id).find(".play",e).css("display","block");d(this.id).find(".pause",e).css("display","none");this.autoPlayPause=true}if(this.allowAutoPlay){this.autoPlayTimerHandle=setTimeout(function(){a.autoplay()},this.timeUpdate)}},pause:function(a){var b=jqAdvSlider.noConflict();b(a.id).find(".pause",d).css("display","none");var d=b(a.id)[0];b(a.id).find(".play",d).css("display","block");a.autoPlayPause=true},play:function(a){var b=jqAdvSlider.noConflict();b(a.id).find(".play",d).css("display","none");var d=b(a.id)[0];b(a.id).find(".pause",d).css("display","block");a.autoPlayPause=false;a.allowAutoPlay=true;if(a.allowAutoPlay){clearTimeout(a.autoPlayTimerHandle);a.autoPlayTimerHandle=setTimeout(function(){a.autoplay()},a.timeUpdate)}},showDesc:function(g){var a=jqAdvSlider.noConflict();var i=a(this.id)[0];var f=a(this.id).find(".desc:eq("+g+")",i);if(f.length>0){var k=a(f).find(".x");var j=a(f).find(".y");var b=a(f).find(".width");if(k.length>0){var e=a(f).find(".hbgcolor");if(e.length>0){e=e.text()}else{e=this.defHeadBGColor}var d=a(f).find(".hcolor");if(d.length>0){d=d.text()}else{d=this.defHeadTextColor}if(this.descMode==this.MOVE_DESC_MODE){a(f).css("opacity",0).css("top",parseInt(j.text())+this.descOffset).css("left",parseInt(k.text())).css("display","block");a(f).find(".head").css("width",parseInt(b.text())).css("background-color",e).css("color",d);a(f).find(".foot").css("width",parseInt(b.text()));a(f).animate({top:parseInt(j.text()),opacity:0.9},this.descShowTime)}else{if(this.descMode==this.FADE_DESC_MODE){a(f).css("opacity",0).css("top",parseInt(j.text())).css("left",parseInt(k.text())).css("display","block");a(f).find(".head").css("width",parseInt(b.text())).css("background-color",e).css("color",d);a(f).find(".foot").css("width",parseInt(b.text()));a(f).animate({top:parseInt(j.text()),opacity:0.9},this.descShowTime)}}}}},hideDesc:function(a){var d=jqAdvSlider.noConflict();var e=d(this.id)[0];var b=d(this.id).find(".desc:eq("+a+")",e);d(b).css("display","none")},autoplay:function(){var e=jqAdvSlider.noConflict();var d=this;if(this.autoPlayPause){if(this.allowAutoPlay){this.autoPlayTimerHandle=setTimeout(function(){d.autoplay()},this.timeUpdate)}return}var a=this.getNextIndex();this.timeCounter+=this.timeUpdate;var b=(this.timeCounter/this.timeSwitch)*this.thumbWidth;if(b>this.thumbWidth){b=this.thumbWidth}var f=e(this.id)[0];e(this.id).find(".thumb:eq("+a+")",f).find(".color").css("z-index",17).css("display","block").css("width",b);e(this.id).find(".thumb:eq("+a+")",f).find(".black").css("z-index",16).css("display","block");if(b==this.thumbWidth){this.timeCounter=0;this.next(d)}if(this.allowAutoPlay){this.autoPlayTimerHandle=setTimeout(function(){d.autoplay()
},this.timeUpdate)}},hoverThumbIn:function(b,e){var d=jqAdvSlider.noConflict();var f=d(b.id)[0];var a=d(b.id).find(".thumb",f).index(e);b.thumbHoverIndex=a},hoverThumbOut:function(b,e){var d=jqAdvSlider.noConflict();var f=d(b.id)[0];var a=d(b.id).find(".thumb",f).index(e);b.thumbHoverIndex=b.NO_HOVER},thumbClick:function(b,e){var d=jqAdvSlider.noConflict();var f=d(b.id)[0];var a=d(b.id).find(".thumb",f).index(e);console.log(a);if(!b.canSwitch){return}switch(b.mode){case b.TRANS_MODE_FADE:b.selectedFade(a);break;case b.TRANS_MODE_MOVE:b.selectedMove(a);break}},selectedFade:function(a){var f=jqAdvSlider.noConflict();var e=this;var d=a;if(this.current==d){return}this.canSwitch=false;var b=this.current;this.hideDesc(b);var g=f(this.id)[0];f(this.id).find(".slide:eq("+b+")",g).css("z-index",1);f(this.id).find(".slide:eq("+d+")",g).css("z-index",0).css("top",0).css("opacity",0);f(this.id).find(".slide:eq("+b+")",g).animate({opacity:0},this.transTime);f(this.id).find(".slide:eq("+d+")",g).animate({opacity:1},this.transTime,function(){e.canSwitch=true;f(e.id).find(".slide:eq("+b+")",g).css("top",e.height);e.showDesc(d)});this.current=d;this.showThumb(a)},selectedMove:function(a){var f=jqAdvSlider.noConflict();var e=this;var d=a;if(this.current==d){return}this.canSwitch=false;var b=this.current;this.hideDesc(b);var g=f(this.id)[0];f(this.id).find(".slide:eq("+b+")",g).css("z-index",1);f(this.id).find(".slide:eq("+d+")",g).css("z-index",2).css("left",(d>b?this.width:-this.width)).css("top",0).css("opacity",1);f(this.id).find(".slide:eq("+d+")",g).animate({left:0},this.transTime,function(){e.canSwitch=true;f(e.id).find(".slide:eq("+b+")",g).css("top",e.height);e.showDesc(d)});this.current=d;this.showThumb(a)},showThumb:function(a){var b=jqAdvSlider.noConflict();this.timeCounter=0;var d=b(this.id)[0];b(this.id).find(".thumb",d).css("border","1px solid "+this.thumbBorderColorOff).find(".black").css("display","block").css("z-index",17);b(this.id).find(".thumb",d).find(".color").css("display","none").css("z-index",16).css("width",this.thumbWidth);b(this.id).find(".thumb:eq("+a+")",d).css("border","1px solid "+this.thumbBorderColorOn).find(".color").css("display","block").css("z-index",17);b(this.id).find(".thumb:eq("+a+")",d).find(".black").css("display","none").css("z-index",16)},getNextIndex:function(){var b=jqAdvSlider.noConflict();var a=this.current+1;if(a>=this.slides){a=0}return a},next:function(a){var b=jqAdvSlider.noConflict();if(!a.canSwitch){return}switch(a.mode){case a.TRANS_MODE_FADE:a.nextFade();break;case a.TRANS_MODE_MOVE:a.nextMove();break}},nextFade:function(){var e=jqAdvSlider.noConflict();var d=this;this.canSwitch=false;var b=this.getNextIndex();var a=this.current;this.hideDesc(a);var f=e(this.id)[0];e(this.id).find(".slide:eq("+a+")",f).css("z-index",1);e(this.id).find(".slide:eq("+b+")",f).css("z-index",0).css("top",0).css("opacity",0);e(this.id).find(".slide:eq("+a+")",f).animate({opacity:0},this.transTime);e(this.id).find(".slide:eq("+b+")",f).animate({opacity:1},this.transTime,function(){d.canSwitch=true;e(d.id).find(".slide:eq("+a+")",f).css("top",d.height);d.showDesc(b)});this.current=b;this.showThumb(this.current)},nextMove:function(){var e=jqAdvSlider.noConflict();var d=this;this.canSwitch=false;var b=this.getNextIndex();var a=this.current;this.hideDesc(a);var f=e(this.id)[0];e(this.id).find(".slide:eq("+a+")",f).css("z-index",1);e(this.id).find(".slide:eq("+b+")",f).css("z-index",2).css("left",this.width).css("top",0).css("opacity",1);e(this.id).find(".slide:eq("+b+")",f).animate({left:0},this.transTime,function(){d.canSwitch=true;e(d.id).find(".slide:eq("+a+")",f).css("top",d.height);d.showDesc(b)});this.current=b;this.showThumb(this.current)},prevMove:function(){var e=jqAdvSlider.noConflict();var d=this;this.canSwitch=false;var b=this.getPrevIndex();var a=this.current;this.hideDesc(a);var f=e(this.id)[0];e(this.id).find(".slide:eq("+a+")",f).css("z-index",1);e(this.id).find(".slide:eq("+b+")",f).css("z-index",2).css("left",-this.width).css("top",0).css("opacity",1);e(this.id).find(".slide:eq("+b+")",f).animate({left:0},this.transTime,function(){d.canSwitch=true;e(d.id).find(".slide:eq("+a+")",f).css("top",d.height);d.showDesc(b)});this.current=b;this.showThumb(this.current)},getPrevIndex:function(){var b=jqAdvSlider.noConflict();var a=this.current-1;if(a<0){a=this.slides-1}return a},prev:function(a){var b=jqAdvSlider.noConflict();if(!a.canSwitch){return}switch(a.mode){case a.TRANS_MODE_FADE:a.prevFade();break;case a.TRANS_MODE_MOVE:a.prevMove();break}},prevFade:function(){var e=jqAdvSlider.noConflict();var d=this;this.canSwitch=false;var b=this.getPrevIndex();var a=this.current;this.hideDesc(a);var f=e(this.id)[0];e(this.id).find(".slide:eq("+a+")",f).css("z-index",1);e(this.id).find(".slide:eq("+b+")",f).css("z-index",0).css("top",0).css("opacity",0);e(this.id).find(".slide:eq("+a+")",f).animate({opacity:0},this.transTime);e(this.id).find(".slide:eq("+b+")",f).animate({opacity:1},this.transTime,function(){d.canSwitch=true;
d.showDesc(b)});this.current=b;this.showThumb(this.current)}});